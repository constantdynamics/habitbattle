<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#1e1b4b">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Daily Battle">
    <title>Daily Battle</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Onboarding Screen -->
        <div id="onboarding" class="onboarding">
            <!-- Navigation Arrows -->
            <button class="onboarding-nav-arrow onboarding-nav-prev" id="onboarding-prev" style="display: none;">
                <span>‚Äπ</span>
            </button>
            <button class="onboarding-nav-arrow onboarding-nav-next" id="onboarding-next">
                <span>‚Ä∫</span>
            </button>

            <!-- Progress Dots -->
            <div class="onboarding-progress">
                <span class="progress-dot active" data-screen="1"></span>
                <span class="progress-dot" data-screen="2"></span>
                <span class="progress-dot" data-screen="3"></span>
                <span class="progress-dot" data-screen="4"></span>
                <span class="progress-dot" data-screen="5"></span>
                <span class="progress-dot" data-screen="6"></span>
                <span class="progress-dot" data-screen="7"></span>
                <span class="progress-dot" data-screen="8"></span>
                <span class="progress-dot" data-screen="9"></span>
            </div>

            <!-- Skip Button -->
            <button id="onboarding-skip" class="onboarding-skip">Sla over</button>

            <!-- Screen Container (swipeable) -->
            <div class="onboarding-screens" id="onboarding-screens">

                <!-- Screen 1: Frustration Hook -->
                <div class="onboarding-screen" data-screen="1">
                    <div class="onboarding-shapes shape-layer-1"></div>
                    <div class="screen1-content">
                        <p class="screen1-pretitle">Herken je dit?</p>
                        <h1 class="screen1-title">Die ene gewoonte<br>die maar niet lukt...</h1>
                        <p class="screen1-subtitle">Je weet precies wat je anders wil doen<br>en hoe je dat anders moet doen.<br><br>En toch val je steeds terug in het oude patroon.</p>
                    </div>
                    <div class="floating-examples" id="floating-examples-1">
                        <!-- Filled by JS -->
                    </div>
                    <div class="swipe-hint" id="swipe-hint">
                        <span>‚Üí</span>
                    </div>
                </div>

                <!-- Screen 2: Floating Examples -->
                <div class="onboarding-screen" data-screen="2">
                    <div class="onboarding-shapes shape-layer-2"></div>
                    <h2 class="screen2-title">Voor welke verandering wil je gaan?</h2>
                    <div class="speech-bubbles-container" id="speech-bubbles">
                        <!-- Filled by JS with animated speech bubbles -->
                    </div>
                </div>

                <!-- Screen 3: The Problem -->
                <div class="onboarding-screen" data-screen="3">
                    <div class="onboarding-shapes shape-layer-3"></div>
                    <h2 class="screen3-title">Van voornemen naar vergeten in <span class="highlight-orange">1 uur</span></h2>
                    <div class="thought-clouds">
                        <div class="thought-cloud optimistic">
                            <span class="thought-text">"Vandaag ga ik rechtop zitten"</span>
                            <div class="thought-bubble-tail"></div>
                        </div>
                        <div class="time-transition">
                            <span class="clock-icon">‚è∞</span>
                            <span class="time-text">1 uur later...</span>
                        </div>
                        <div class="thought-cloud frustrated">
                            <span class="thought-text">"Ik zit <em>alw√©√©r</em> onderuit."</span>
                            <div class="thought-bubble-tail"></div>
                        </div>
                    </div>
                </div>

                <!-- Screen 4: The Solution -->
                <div class="onboarding-screen" data-screen="4">
                    <div class="onboarding-shapes shape-layer-4"></div>
                    <div class="screen4-content">
                        <p class="screen4-intro">Habit Battle helpt je</p>
                        <div class="screen4-title">
                            <span>van <span class="color-red">vergeten</span> naar <span class="color-yellow">merken</span></span>
                            <span>van <span class="color-yellow">merken</span> naar <span class="color-green">veranderen</span></span>
                        </div>
                        <div class="competence-quadrant">
                            <div class="quadrant-grid">
                                <div class="quadrant-cell q-red">
                                    <span class="q-label">onbewust</span>
                                    <span class="q-sublabel">onbekwaam</span>
                                </div>
                                <div class="quadrant-cell q-orange">
                                    <span class="q-label">bewust</span>
                                    <span class="q-sublabel">onbekwaam</span>
                                </div>
                                <div class="quadrant-cell q-yellow">
                                    <span class="q-label">bewust</span>
                                    <span class="q-sublabel">bekwaam</span>
                                </div>
                                <div class="quadrant-cell q-green">
                                    <span class="q-label">onbewust</span>
                                    <span class="q-sublabel">bekwaam</span>
                                </div>
                            </div>
                            <div class="quadrant-arrow"></div>
                        </div>
                    </div>
                </div>

                <!-- Screen 5: Phone Preview -->
                <div class="onboarding-screen" data-screen="5">
                    <div class="onboarding-shapes shape-layer-5"></div>
                    <h2 class="screen5-title">Zo ziet het eruit</h2>
                    <div class="phone-mockup phone-mockup-straight">
                        <div class="phone-screen">
                            <div class="mock-question">Zit je rechtop?</div>
                            <div class="mock-score">
                                <span class="mock-good">3</span>
                                <span class="mock-vs">vs</span>
                                <span class="mock-bad">1</span>
                            </div>
                            <div class="mock-buttons">
                                <div class="mock-btn mock-yes">‚úì</div>
                                <div class="mock-btn mock-no">‚úï</div>
                            </div>
                            <div class="mock-colorbar"></div>
                        </div>
                    </div>
                    <p class="screen5-hint">Beantwoord de vraag met ja of nee</p>
                </div>

                <!-- Screen 6: Interactive Demo -->
                <div class="onboarding-screen" data-screen="6">
                    <div class="onboarding-shapes shape-layer-6"></div>
                    <h2 class="screen6-title">Probeer het zelf</h2>
                    <div class="demo-card">
                        <div class="demo-question">Doe je het goed?</div>
                        <div class="demo-score-live">
                            <span class="demo-live-good" id="demo-live-good">0</span>
                            <span class="demo-live-vs">vs</span>
                            <span class="demo-live-bad" id="demo-live-bad">0</span>
                        </div>
                        <div class="demo-buttons">
                            <button class="demo-btn demo-yes-btn" id="demo-yes-btn">
                                <span class="demo-btn-icon">‚úì</span>
                                <span class="demo-btn-text">Ja!</span>
                            </button>
                            <button class="demo-btn demo-no-btn" id="demo-no-btn">
                                <span class="demo-btn-icon">‚úï</span>
                                <span class="demo-btn-text">Nee</span>
                            </button>
                        </div>
                    </div>
                    <div class="demo-success hidden" id="demo-success">
                        <p>Je snapt het! üí™</p>
                    </div>
                </div>

                <!-- Screen 7: Calendar/Progress -->
                <div class="onboarding-screen" data-screen="7">
                    <div class="onboarding-shapes shape-layer-7"></div>
                    <h2 class="screen7-title">Volg je voortgang</h2>
                    <p class="screen7-subtitle">Zie hoe je score per dag verandert</p>
                    <div class="progress-demo">
                        <div class="week-demo">
                            <div class="week-demo-day" style="background: #ef4444;"><span>Ma</span><span>-2</span></div>
                            <div class="week-demo-day" style="background: #f59e0b;"><span>Di</span><span>0</span></div>
                            <div class="week-demo-day" style="background: #eab308;"><span>Wo</span><span>+1</span></div>
                            <div class="week-demo-day" style="background: #84cc16;"><span>Do</span><span>+3</span></div>
                            <div class="week-demo-day" style="background: #22c55e;"><span>Vr</span><span>+5</span></div>
                            <div class="week-demo-day" style="background: #16a34a;"><span>Za</span><span>+7</span></div>
                            <div class="week-demo-day today" style="background: #15803d;"><span>Zo</span><span>+8</span></div>
                        </div>
                        <div class="streak-demo">
                            <span class="streak-demo-fire">üî•</span>
                            <span class="streak-demo-count">7</span>
                            <span class="streak-demo-label">dagen streak</span>
                        </div>
                    </div>
                </div>

                <!-- Screen 8: Setup Form - Name and Question -->
                <div class="onboarding-screen" data-screen="8">
                    <div class="onboarding-shapes shape-layer-8"></div>
                    <div class="screen8-header">
                        <h2 class="screen8-title">Start je battle</h2>
                        <p class="screen8-subtitle">Voor welke verandering ga jij?</p>
                    </div>
                    <div class="setup-card">
                        <div class="setup-field">
                            <label for="onboard-habit-name">naam van de gewoonte</label>
                            <input type="text" id="onboard-habit-name" placeholder="bijv. Goede houding">
                        </div>
                        <div class="setup-field">
                            <label for="onboard-habit-question">check-in vraag</label>
                            <input type="text" id="onboard-habit-question" placeholder="bijv. Zit je rechtop?">
                        </div>
                        <button id="onboard-presets-btn" class="onboard-presets-btn">
                            üìã Of kies uit presets
                        </button>
                    </div>
                </div>

                <!-- Screen 9: Cooldown and Start -->
                <div class="onboarding-screen" data-screen="9">
                    <div class="onboarding-shapes shape-layer-9"></div>
                    <div class="screen9-header">
                        <h2 class="screen9-title">Cooldown instellen</h2>
                    </div>
                    <div class="setup-card">
                        <div class="setup-field">
                            <p class="cooldown-explanation">Na elke check-in wacht je even voordat je opnieuw kunt antwoorden. Dit voorkomt dat je te vaak checkt en helpt je om bewuster te worden.</p>
                            <div class="setup-cooldown-options">
                                <button class="setup-cooldown-btn active" data-minutes="5">5 min</button>
                                <button class="setup-cooldown-btn" data-minutes="10">10 min</button>
                                <button class="setup-cooldown-btn" data-minutes="15">15 min</button>
                                <button class="setup-cooldown-btn" data-minutes="30">30 min</button>
                            </div>
                        </div>
                        <button id="onboard-start-btn" class="onboard-start-btn" disabled>
                            <span>‚öîÔ∏è</span> Start je battle
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Battles Overview Screen -->
        <div id="overview-screen" class="screen">
            <header class="app-header">
                <div class="header-left">
                    <span class="app-icon-small">‚öîÔ∏è</span>
                    <span>Daily Battle</span>
                </div>
                <div class="header-right">
                    <button id="sort-btn" class="icon-btn" title="Sorteer">‚ÜïÔ∏è</button>
                    <button id="calendar-overview-btn" class="icon-btn" title="Kalender">üìÖ</button>
                    <button id="theme-btn" class="icon-btn" title="Thema">üé®</button>
                    <button id="overview-settings-btn" class="icon-btn">‚öôÔ∏è</button>
                </div>
            </header>

            <!-- Sort Menu -->
            <div id="sort-menu" class="sort-menu hidden">
                <button class="sort-option active" data-sort="recent-desc">Nieuwste eerst</button>
                <button class="sort-option" data-sort="recent-asc">Oudste eerst</button>
                <button class="sort-option" data-sort="score-desc">Beste score eerst</button>
                <button class="sort-option" data-sort="score-asc">Slechtste score eerst</button>
            </div>

            <main class="overview-content">
                <div id="battles-list" class="battles-list battles-grid">
                    <!-- Filled by JS -->
                </div>

                <button id="add-battle-btn" class="add-battle-btn">
                    <span class="add-icon">+</span>
                    <span>Nieuwe Battle</span>
                </button>
            </main>
        </div>

        <!-- Calendar Overview Modal -->
        <div id="calendar-overview-modal" class="modal hidden">
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <h2>üìÖ Cumulatief Overzicht</h2>
                    <button id="close-calendar-overview" class="close-btn">‚úï</button>
                </div>
                <div class="calendar-overview-nav">
                    <button id="prev-overview-month" class="nav-btn">‚óÄ</button>
                    <span id="calendar-overview-title">December 2024</span>
                    <button id="next-overview-month" class="nav-btn">‚ñ∂</button>
                </div>
                <div class="calendar-weekdays">
                    <span>Zo</span><span>Ma</span><span>Di</span><span>Wo</span><span>Do</span><span>Vr</span><span>Za</span>
                </div>
                <div id="calendar-overview-grid" class="calendar-overview-grid">
                    <!-- Filled by JS -->
                </div>
                <div class="calendar-legend">
                    <span class="legend-item"><span class="legend-color bad"></span> Negatief</span>
                    <span class="legend-item"><span class="legend-color neutral"></span> Neutraal</span>
                    <span class="legend-item"><span class="legend-color good"></span> Positief</span>
                </div>
            </div>
        </div>

        <!-- Theme Picker Modal -->
        <div id="theme-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üé® Kies een Thema</h2>
                    <button id="close-theme" class="close-btn">‚úï</button>
                </div>
                <div class="theme-list">
                    <button class="theme-option" data-theme="purple">
                        <span class="theme-preview purple"></span>
                        <span>Paars (Standaard)</span>
                    </button>
                    <button class="theme-option" data-theme="blue">
                        <span class="theme-preview blue"></span>
                        <span>Oceaan Blauw</span>
                    </button>
                    <button class="theme-option" data-theme="green">
                        <span class="theme-preview green"></span>
                        <span>Bos Groen</span>
                    </button>
                    <button class="theme-option" data-theme="red">
                        <span class="theme-preview red"></span>
                        <span>Vuur Rood</span>
                    </button>
                    <button class="theme-option" data-theme="orange">
                        <span class="theme-preview orange"></span>
                        <span>Zonsondergang</span>
                    </button>
                    <button class="theme-option" data-theme="pink">
                        <span class="theme-preview pink"></span>
                        <span>Roze</span>
                    </button>
                    <button class="theme-option" data-theme="dark">
                        <span class="theme-preview dark"></span>
                        <span>Donker</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Setup Screen -->
        <div id="setup-screen" class="screen hidden">
            <div class="setup-container">
                <div class="setup-header">
                    <span class="app-icon">‚öîÔ∏è</span>
                    <h1>Daily Battle</h1>
                    <p class="subtitle">Start je gevecht tegen slechte gewoontes</p>
                </div>

                <div class="setup-form">
                    <div class="form-group">
                        <label>Kies een preset of maak je eigen</label>
                        <button id="show-presets-btn" class="secondary-btn">üìã Kies uit presets</button>
                    </div>

                    <div class="form-group">
                        <label for="habit-name">Gewoonte Naam</label>
                        <input type="text" id="habit-name" placeholder="bijv. Goede houding">
                    </div>

                    <div class="form-group">
                        <label for="habit-question">Check-in Vraag</label>
                        <input type="text" id="habit-question" placeholder="bijv. Zit je rechtop?">
                    </div>

                    <div class="form-group">
                        <label>Cooldown Periode</label>
                        <div class="cooldown-options">
                            <button class="cooldown-btn" data-minutes="1">1 min</button>
                            <button class="cooldown-btn active" data-minutes="5">5 min</button>
                            <button class="cooldown-btn" data-minutes="10">10 min</button>
                            <button class="cooldown-btn" data-minutes="15">15 min</button>
                            <button class="cooldown-btn" data-minutes="30">30 min</button>
                        </div>
                    </div>

                    <button id="start-battle-btn" class="primary-btn" disabled>Start je Battle</button>
                    <button id="cancel-setup-btn" class="secondary-btn cancel-btn hidden">Annuleren</button>
                </div>
            </div>
        </div>

        <!-- Main App -->
        <div id="main-app" class="screen hidden">
            <!-- Header -->
            <header class="app-header">
                <div class="header-left header-home-link" id="header-home-link">
                    <span class="app-icon-small">‚öîÔ∏è</span>
                    <span id="header-habit-name">Goede houding</span>
                </div>
                <div class="header-right">
                    <span id="header-streak" class="streak-badge">Streak: 0 üî•</span>
                    <button id="settings-btn" class="icon-btn">‚öôÔ∏è</button>
                </div>
            </header>

            <!-- Tab Content -->
            <main id="tab-content">
                <!-- Battle Tab -->
                <div id="battle-tab" class="tab-panel">
                    <div class="score-card">
                        <h2 id="battle-question" class="question">Zit je rechtop?</h2>

                        <div class="score-display">
                            <span id="good-count" class="good-score">0</span>
                            <span class="vs">vs</span>
                            <span id="bad-count" class="bad-score">0</span>
                        </div>

                        <div id="balance-display" class="balance neutral">
                            <span id="balance-value">0</span>
                        </div>

                        <div class="progress-container">
                            <span class="progress-label">Slecht</span>
                            <div class="progress-bar">
                                <div id="progress-fill" class="progress-fill"></div>
                            </div>
                            <span class="progress-label">Goed</span>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button id="yes-btn" class="action-btn yes-btn">
                            <span class="btn-icon-bold">‚úì</span>
                        </button>
                        <button id="no-btn" class="action-btn no-btn">
                            <span class="btn-icon-bold">‚úï</span>
                        </button>
                    </div>

                    <div id="cooldown-display" class="cooldown-display hidden">
                        <span class="cooldown-icon">‚è±Ô∏è</span>
                        <span>Volgende check-in over</span>
                        <span id="cooldown-timer" class="cooldown-timer">0:00</span>
                    </div>

                    <button id="undo-btn" class="undo-btn hidden">
                        <span>‚Ü©Ô∏è</span> Laatste ongedaan maken
                    </button>

                    <div class="comparison-card">
                        <h3>Vandaag vs Gisteren</h3>
                        <div class="comparison-grid">
                            <div class="comparison-item">
                                <span class="comparison-label">Vandaag</span>
                                <div id="today-color" class="comparison-box"></div>
                                <span id="today-balance" class="comparison-value">0</span>
                            </div>
                            <div class="comparison-item">
                                <span class="comparison-label">Gisteren</span>
                                <div id="yesterday-color" class="comparison-box"></div>
                                <span id="yesterday-balance" class="comparison-value">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stats Tab -->
                <div id="stats-tab" class="tab-panel hidden">
                    <div class="streak-card">
                        <span class="streak-emoji">üî•</span>
                        <span id="streak-count" class="streak-number">0</span>
                        <span class="streak-label">dagen streak</span>
                    </div>

                    <div class="week-card">
                        <h3><span class="card-icon">üìä</span> Deze Week</h3>
                        <div id="week-grid" class="week-grid">
                            <!-- Filled by JS -->
                        </div>
                    </div>

                    <div class="calendar-card">
                        <div class="calendar-header">
                            <button id="prev-month" class="nav-btn">‚óÄ</button>
                            <span id="calendar-title">December 2024</span>
                            <button id="next-month" class="nav-btn">‚ñ∂</button>
                        </div>
                        <div class="calendar-weekdays">
                            <span>Zo</span><span>Ma</span><span>Di</span><span>Wo</span><span>Do</span><span>Vr</span><span>Za</span>
                        </div>
                        <div id="calendar-grid" class="calendar-grid">
                            <!-- Filled by JS -->
                        </div>
                    </div>
                </div>
            </main>

            <!-- Bottom Navigation -->
            <nav class="bottom-nav">
                <button class="nav-tab active" data-tab="battle">
                    <span class="tab-icon">üèÜ</span>
                    <span class="tab-label">Battle</span>
                </button>
                <button class="nav-tab" data-tab="stats">
                    <span class="tab-icon">üìà</span>
                    <span class="tab-label">Statistieken</span>
                </button>
            </nav>
        </div>

        <!-- Settings Modal -->
        <div id="settings-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Instellingen</h2>
                    <button id="close-settings" class="close-btn">‚úï</button>
                </div>

                <div class="settings-section">
                    <h3>Gewoonte Configuratie</h3>

                    <div class="form-group">
                        <label for="settings-name">Naam</label>
                        <input type="text" id="settings-name">
                    </div>

                    <div class="form-group">
                        <label for="settings-question">Vraag</label>
                        <input type="text" id="settings-question">
                    </div>

                    <div class="form-group">
                        <label>Cooldown</label>
                        <div class="cooldown-options" id="settings-cooldown">
                            <button class="cooldown-btn" data-minutes="1">1 min</button>
                            <button class="cooldown-btn" data-minutes="5">5 min</button>
                            <button class="cooldown-btn" data-minutes="10">10 min</button>
                            <button class="cooldown-btn" data-minutes="15">15 min</button>
                            <button class="cooldown-btn" data-minutes="30">30 min</button>
                        </div>
                    </div>

                    <button id="save-settings" class="primary-btn">Opslaan</button>
                </div>

                <div class="settings-section">
                    <h3>Herinneringen</h3>

                    <div class="form-group">
                        <label class="toggle-label">
                            <span>Notificaties inschakelen</span>
                            <input type="checkbox" id="notifications-enabled">
                            <span class="toggle-switch"></span>
                        </label>
                    </div>

                    <div class="form-group" id="notification-options">
                        <label>Frequentie</label>
                        <div class="slider-labels">
                            <span>5min</span>
                            <span>12u</span>
                            <span>1x/week</span>
                        </div>
                        <div class="slider-container">
                            <input type="range" id="notification-slider" min="0" max="13" value="6" class="notification-slider">
                            <div class="slider-value" id="slider-value">Elk uur</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="toggle-label">
                            <span>Random timing</span>
                            <input type="checkbox" id="random-timing">
                            <span class="toggle-switch"></span>
                        </label>
                        <p class="setting-hint" id="random-hint">Notificatie komt op een willekeurig moment binnen elke uur</p>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Data Beheer</h3>

                    <button id="export-data" class="secondary-btn">
                        <span>üì§</span> Exporteer Data
                    </button>

                    <label class="secondary-btn file-input-label">
                        <span>üì•</span> Importeer Data
                        <input type="file" id="import-data" accept=".json" hidden>
                    </label>

                    <button id="delete-battle" class="danger-btn">
                        <span>üóëÔ∏è</span> Verwijder Deze Battle
                    </button>

                    <button id="clear-data" class="danger-btn" style="margin-top: 8px;">
                        <span>üóëÔ∏è</span> Wis Alle Data
                    </button>
                </div>

                <div class="settings-section">
                    <h3>Overig</h3>
                    <button id="show-onboarding-btn" class="secondary-btn">
                        <span>üìñ</span> Bekijk tutorial
                    </button>
                </div>

                <div class="settings-section">
                    <p style="text-align: center; color: #666; font-size: 12px; margin-top: 16px;">
                        Daily Battle v2.3
                    </p>
                </div>
            </div>
        </div>

        <!-- Presets Modal -->
        <div id="presets-modal" class="modal hidden">
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <h2>Kies een Battle</h2>
                    <button id="close-presets" class="close-btn">‚úï</button>
                </div>
                <div class="presets-search">
                    <input type="text" id="presets-search-input" placeholder="Zoek een battle...">
                </div>
                <div id="presets-list" class="presets-list">
                    <!-- Filled by JS -->
                </div>
            </div>
        </div>

        <!-- Battle Burst Animation -->
        <div id="battle-burst" class="battle-burst hidden">
            <div class="burst-cloud">
                <span class="burst-text"></span>
            </div>
        </div>

        <!-- Install Banner -->
        <div id="install-banner" class="install-banner hidden">
            <div class="install-content">
                <span class="install-icon">‚öîÔ∏è</span>
                <div class="install-text">
                    <strong>Installeer Daily Battle</strong>
                    <span>Voeg toe aan je startscherm</span>
                </div>
            </div>
            <div class="install-buttons">
                <button id="install-later" class="install-btn-later">Later</button>
                <button id="install-now" class="install-btn-now">Installeren</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
